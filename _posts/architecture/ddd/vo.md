---
title: VO(Value Object) 알아보기
author: codongmin
date: 2024-09-19T21:37:00
categories:
  - ddd
tags:
  - ddd
  - vo
preview: 값 객체(Value Object)의 정의와 이점에 대해 설명합니다.
---

## 들어가며

최근 개발중인 서비스에서 값 객체(Value Object)를 활용하여 개선시켰던 경험이 있어 이 내용을 글로 남기고 싶었다. 

이를 위해 값 객체의 개념을 찾다보니, 엔티티(Entity) 그리고 더 나아가 도메인 주도 개발(DDD)라는 설계 패러다임까지 연관된 개념으로 연결되는 것을 확인했다. 값 객체와 엔티티 이 둘은 어떤 것을 의미하고 이와 연관된 도메인 주도 개발(DDD)은 또 무엇일까?

본 글에서는 이들의 개념을 살피기 위해 도움을 줄 수 있는 도메인 모델에 대해 간략하게 언급한다. 이어서 엔티티와의 비교를 통해 값 객체란 어떤 것을 의미하는지 알아본다. 또 값 객체를 활용하여 어떤 이점을 취할 수 있는지를 다뤄보려고 한다. 값 객체를 적절하게 사용할 수 있다면 우리가 원하는 비지니스 로직을 적절하게 캡슐화하면서 테스트가 용이한 구조로 만들 수 있다. 이것이 어떻게 가능한지 차근차근 알아보자.

## 도메인 모델

값 객체를 언급하기 위해서는 "도메인"모델에 대해서의 이해가 선행적으로 필요하다. 도메인 모델이 무엇인지 간략하게만 짚고 넘어가자. 

도메인 모델이란 개념모델을 의미

## 엔티티(Entity)와 값 객체(VO, value object)란?

도메인 모델을 성격에 따라 2가지의 개념으로 분류해볼 수 있다. 
### 엔티티(Entity)란?

엔티티는 다음과 같은 속성을 갖는 도메인 모델을 의미한다. 
- 고유함을 확인할 수 있는 **식별자**를 갖는다. 

서로 다른 엔티티는 서로 다른 식별자를 갖는다. 즉, 엔티티를 구별할 수 있는 속성인자를 갖는다. 이것이 값 객체와 다른 가장 큰 특성이다. 

- 엔티티는 엔티티의 라이프 사이클 내에서 가지고 있는 **속성의 상태가 변경**될 수 있다. 즉, 가변성을 가진다.
엔티티는 시간의 흐름에 따라 엔티티가 가지고 있는 속성의 상태값이 변경될 수 있다. 이 또한 값 객체와 구별되는 또 다른 특성이다.

예시를 통해 엔티티만이 갖는 속성을 이해해보자. 

![Desktop View](/assets/posts/architecture/ddd/vo/user.png)

다음은 간단한 SNS 서비스에서의 User 모델을 간략화한 도식이다. 
여기서 User 모델은 엔티티로 볼 수 있다. 앞서 언급한 엔티티의 2가지 속성을 충족한다.

첫째로, **고유한** 자신을 나타내기 위한 `id` 값이 존재한다. 여기서 `id` 값은 앞서 설명한 **식별자**에 해당된다. 만약 다른 User 모델이 존재한다면 `id` 값을 기준으로 **동등성을 비교**하여 서로 같은 모델인지 아닌지를 확인할 수 있다. 

두번째로, User 모델은 시간의 흐름에 따라 속성의 **상태가 변경**될 수 있다. User가 다른 User를 팔로우한다면 followingCount가 증가할 것이고, 누군가 해당 User를 팔로우한다면 `followerCount` 가 증가된다. 

### 값 객체(Value Object)란?



### 정리

엔티티는 다음과 같은 속성을 갖는다. 
1. 식별자를 갖는다. 

---

## 둘의 차이점


## 값 객체(VO, value object)의 이점

### 1. 도메인 로직 캡슐화

도메인 로직을 캡슐화 할 수 있다.  도메인 로직이란 무엇일까? 

그렇다면 도메인 로직을 구분하는 방법은 무엇일까 ?

**이 로직을 바꾸면 비즈니스 규칙이 바뀌는가?**
- **Yes**: 도메인 로직.
- **No**: 비도메인 로직 (기술적 구현, UI 관련 등).

값 객체는 내부에서 도메인 로직을 구현함으로써 
캡슐화할 수 있다. 값 객체와 연관된 도메인 로직(검증 로직 등)을 하나로 집중시킬 수 있다. 
### 2. 명확한 의미를 

### 2. 재사용 가능

### 3. 테스트 용이



## 마무리
