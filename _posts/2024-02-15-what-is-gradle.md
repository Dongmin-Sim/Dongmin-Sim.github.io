---
title: "Gradle, 든든한 코끼리 "
author: codongmin
date: 2024-02-01 22:16:00 +0800
categories: [Gradle, Tool]
tags: [gradle, build, ci/cd]


---





## 들어가며

오늘은 자바나, 스프링을 다룰때 항상 등장하는 이 코끼리(Gradle)에 대한 이야기를 해보려고 한다. 처음 스프링을 접하고 공부했을 때 처음보는 잘 모르겠는 프로젝트 파일 구조와 빌드에 관련된 설정들, Gradle이 한꺼번에 다가오면서 대체 이것들은 뭘까 하는 압박감과 당황함이 들었었다. 적어도 나는 그랬다. 일단 실행되고 잘 돌아가니 실행하는데 도움을 주는 빌드 툴정도 로 이해하고 있었지만. 이 코끼리가 대체 왜 있는지, 그리고 어떤걸 도와주는지, 그리고 어떻게 동작되는지에 대한 이해는 높지 않았다. 

그래서 오늘은 이 그레들에 대한 친구가 무엇을 하는 친구인지 어떤 걸 도와주는지 알아보려고 한다. 



## 빌드란 ?

결론부터 말하자면 Gradle은 Build Tool이다. 빌드를 도와주는 도구인데, 그렇다면 빌드라는 것은 무엇일까?

**빌드**는 **소스 코드 파일**을 **실행 가능한 소프트웨어**로 **변환**시키는 과정이다. 

"소스코드 파일", "실행가능한 소프트웨어", "변환"이란 대체 무슨말일까?

 컴퓨터는 우리가 흔히 작성하는 프로그래밍 언어를 곧 바로 이해하고 실행할 수 없다. 우리가 미지의 종족을 만나서 그들의 말을 들어도 무슨 뜻인지 이해할 수 없듯이, 컴퓨터도 우리의 자연어를 곧바로 이해할 수 있는 구조가 아니다. 외계인과 소통하기 위해서 그들의 언어를 분석하고, 특정 의미를 담은 단어를 우리가 가진 언어와 매핑하여 그들의 문장을 이해하듯이 컴퓨터도 일종의 "번역"이 필요하다.

다음의 비유가 비약적일 수 있겠지만, 우리가 외계인들과 소통하고자 할때, 그들의 단어를 분석하여 우리가 이해할 수 있는 온전한 문장으로 번역하여 소통하는 과정에 비유해볼 수 있다. 

> **nga za‘u ftu peseng?** 

어느날 외계인이 지구에 도착해 다음과 같은 말을 뱉었을 때, 우리는 이를 이해할 수 없다. 기껏해야 비슷한 발음의 단어를 찾아보겠지만, 그것은 그들이 의도하는 의미와는 매우 다를 확률이 높다. 

따라서 우리는 다음과 같은 것들을 시도해볼 수 있다. 이 개별 단어(라고 보이는)들로 분리하고 각 단어들이 의미하는 바를 우리가 이해하는 단어로 "번역"하고, 

- ***nga** : [Na]PFpn.<u>you</u>*

- ***za’u** : ["z·a.P·u]PFvin.<u>come</u>*

- ***ftu–** : [ftu]PFadp.<u>from</u>(direction)*

- ***peseng** : [pE."sEN] PF inter. <u>where</u>*

각 단어들 간의 관계와 의존성을 분석하여 그들의 의도를 나타내는 문장으로 최종 변환해볼 수 있다. 

- You, come, from, where -> (where are you come from?) / (where do you from?)

이러한 일련의 단계들은 지구를 방문한 외계인들의 "(외계언어)가 (의도하는 바를 표현)하는 (변환) 과정"이라고 부를 수 있다. 

컴퓨터도 마찬가지이다. 컴퓨터가 우리가 작성하는 자연어를 이해하기 위해 소스코드(단어와 구문)을 컴퓨터가 이해할 수 있는 방식(010110..)으로 바꾸고, 이를 컴파일이라고 부른다. 소스코드들을 연결하고 패키징하여 프로그래머가 의도한 것을 수행하는 소프트웨어로 변환시키는 일련의 연속된 행위를 빌드라고 한다. 


> 예시로 들은 외계어는 영화 아바타에 나오는 나비족의 언어를 가져왔다.
> 실제로 영화에서 사용하기 위한 인공어로 [나비족 언어 사전](chrome-extension://efaidnbmnnnibpcajpcglclefindmkaj/https://files.learnnavi.org/dicts/NaviDictionary.pdf)과 [커뮤니티](https://learnnavi.org/)가 있으므로 관심 있으신 분들은 둘러봐도 좋을 듯하다.
{: .prompt-tip }



## 빌드툴이란 ?

"빌드"라는 과정이 이해가 되었다면 빌드 툴은 더 이해가 직관적이다. 빌드툴은 말 그대로 빌드를 도와주는 도구이다. 

앞서 설명한 실행 가능한 소프트웨어가 되려면 소스코드가 단순히 번역 뿐 아니라 코드들 간의 서로 의존하고 있는 순서가 올바른지, 해당 소스코드가 에러를 발생시키지는 않는지 이를 확인하고 테스트하는 과정도 필요하다. 그렇지 않으면 이는 실행 가능한 소프트웨어가 될 수 없기 때문이다. 



만일 외계인이 "당신들은 위험한 존재입니까?" 라는 질문을 뱉었는데, 단순한 단어(위험)의 번역과 나열로 잘못 오해하고 그들에게 위험하고 무례한 대답을 해버린다면 어쩌면 친구가 되었을지도 모르는 우리의 외계인은 거대한 우주선으로 올라가 우리의 정수리에 무자비한 빔을 때려버릴지 모른다. 

이러한 의사소통의 실패를 막기 위해 해당 단어들간에 가지는 의존 순서, 맥락, 그리고 그들의 언어가 제대로 번역이 되었는지 테스트해볼 필요가 있다. 



빌드툴은 앞선 빌드의 과정을 손수 수동적으로 하는 것이 아니라, 일련의 과정들을 자동화하여 수고로움을 덜어준다. 또한 필요한 프로젝트의 구성을 관리해주거나, 프로젝트가 구동되기 위해 필요로 하는 라이브러리의 의존성을 관리해주기도 하며, 테스트 및 패키징 & 배포 기능을 지원해주는 도구다.



## Gradle란?

Gradle(그레들)은 자바, C++, 안드로이드 등 여러 프로그래밍 언어로 작성된 소프트웨어를 빌드하고 관리하기 위한 오픈 소스 빌드 자동화 도구. 안드로이드 애플리케이션 개발에서 널리 사용되며, 프로젝트의 의존성 관리, 빌드 및 테스트 자동화, 배포 등을 지원한다. Gradle은 Maven과 Ant의 장점을 결합한 형태로, 강력한 기능과 유연성을 제공한다.

Groovy DSL(Domain Specific Language)을 사용하여 프로젝트의 빌드 스크립트를 작성하며, 이를 통해 빌드 프로세스를 자유롭게 정의할 수 있다. Gradle은 대규모 프로젝트에서도 효과적으로 사용될 수 있으며, 다양한 플러그인을 통해 확장 가능한 구조를 갖추고 있다



### Gradle의 핵심 컨셉



![](https://docs.gradle.org/current/userguide/img/gradle-basic-1.png)

_Gradle 개요_



#### Project

Gradle 프로젝트는 응용 프로그램 또는 라이브러리와 같이 빌드할 수 있는 소프트웨어

단일 프로젝트 빌드에는 루트 프로젝트라고 불리는 단일 프로젝트가 포함

다중 프로젝트 빌드에는 하나의 루트 프로젝트와 여러 하위 프로젝트가 포.

#### Build Scripts

빌드 스크립트는 Gradle에게 프로젝트를 빌드하는 데 필요한 단계를 설명

각 프로젝트에는 하나 이상의 빌드 스크립트가 포함될 수 

#### Dependency Management

의존성 관리는 프로젝트에서 필요로 하는 외부 리소스를 선언하고 해결하는 자동화된 기술

각 프로젝트에는 일반적으로 Gradle이 빌드 중에 해결할 외부 의존성이 포함

#### Tasks

작업은 코드를 컴파일하거나 테스트를 실행하는 것과 같은 작업의 기본 단위

각 프로젝트에는 빌드 스크립트나 플러그인 내에서 정의된 하나 이상의 작업이 포함

#### Plugins

플러그인은 Gradle의 기능을 확장하고 선택적으로 프로젝트에 작업을 기여하는 데 사용

#### 



### Gradle의 구조

그래들 소스 파일 구조

```
project
├── gradle                              
│   ├── libs.versions.toml              
│   └── wrapper
│       ├── gradle-wrapper.jar
│       └── gradle-wrapper.properties
├── gradlew                             
├── gradlew.bat                         
├── settings.gradle(.kts)               
├── subproject-a
│   ├── build.gradle(.kts)              
│   └── src                             
└── subproject-b
    ├── build.gradle(.kts)              
    └── src                             
```



### Gradlew



![](https://docs.gradle.org/current/userguide/img/wrapper-workflow.png)

### Gradle 특징





## Gradle를 활용한 빌드 예시









## 정리







